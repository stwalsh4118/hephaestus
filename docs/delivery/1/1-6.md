# [1-6] E2E CoS Test

[Back to task list](./tasks.md)

## Description

Verify all PBI-1 acceptance criteria are met end-to-end. This is a validation task — no new code unless fixes are needed.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 01:15:10 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-18 01:44:18 | Status Change | Agreed | InProgress | Started implementation | AI_Agent |
| 2026-02-18 01:47:11 | Status Change | InProgress | Blocked | Docker CLI unavailable; AC4 cannot be executed in this environment | AI_Agent |

## Requirements

Validate each PBI-1 acceptance criterion:

1. **AC1**: Monorepo structure matches PRD repository layout (`frontend/`, `backend/`, `docker/`, `docs/`)
2. **AC2**: `pnpm install` and `pnpm dev` starts the Next.js frontend on a dev server
3. **AC3**: `go build ./...` compiles the Go backend without errors
4. **AC4**: Docker Compose brings up all dev services with a single command
5. **AC5**: ESLint and Prettier configured for frontend; `golangci-lint` configured for backend
6. **AC6**: Basic CI pipeline runs lint and build checks

## Implementation Plan

1. Verify directory structure matches PRD layout
2. Run `pnpm install && pnpm dev` in frontend — confirm dev server starts
3. Run `go build ./...` in backend — confirm compilation succeeds
4. Run `docker compose up` — confirm all services start and respond
5. Run lint commands — confirm all pass cleanly
6. Verify CI config exists and defines lint + build jobs (note: CI pipeline itself runs in CI, so verify config file correctness)
7. Document results in Verification section
8. Fix any issues found, re-verify

## Test Plan

### Objectives
Confirm all 6 acceptance criteria for PBI-1 are satisfied.

### Test Scenarios

| # | Criterion | Test Action | Expected Result |
|---|-----------|-------------|-----------------|
| 1 | Monorepo structure | `ls` project root | `frontend/`, `backend/`, `docker/`, `docs/` exist |
| 2 | Frontend dev server | `cd frontend && pnpm install && pnpm dev` | Server starts on port 3000, page renders |
| 3 | Go backend build | `cd backend && go build ./...` | Exits 0, binary produced |
| 4 | Docker Compose | `docker compose up` | All services healthy, ports accessible |
| 5 | Linting | `make lint` | All linters pass with 0 errors |
| 6 | CI pipeline | Inspect CI config file | Lint and build jobs defined |

### Success Criteria
All 6 test scenarios pass. Any failures must be fixed and re-verified before marking Done.

## Verification

- AC1 passed: root contains `frontend/`, `backend/`, `docker/`, and `docs/`.
- AC2 passed: `pnpm install` in `frontend/` succeeded, and `pnpm dev --port 39123` served the landing page containing `Hephaestus`.
- AC3 passed: `go build ./...` in `backend/` succeeded.
- AC4 blocked: `docker compose up` cannot be executed because Docker CLI is not available in this environment.
- AC5 passed: `make lint` succeeded for frontend and backend linting.
- AC6 passed: CI workflow exists at `.github/workflows/ci.yml` and includes lint/build jobs for frontend and backend.
- Internal AI review verdict: `blocked` (pending AC4 execution in Docker-enabled environment).

## Files Modified

- `.github/workflows/ci.yml`
- `docs/delivery/1/1-6.md`
- `docs/delivery/1/tasks.md`
