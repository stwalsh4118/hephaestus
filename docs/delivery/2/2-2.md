# [2-2] Define Canvas Types and Constants

[Back to task list](./tasks.md)

## Description

Define the TypeScript interfaces, types, and named constants that will be shared across all canvas-related components and the Zustand store. This establishes the data contracts before implementation begins.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 07:33:26 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-18 07:44:46 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-18 07:46:17 | Status Change | InProgress | Review | Implementation complete, internal AI review passed | AI_Agent |
| 2026-02-18 08:52:37 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. Define a `PaletteItem` interface representing a draggable item in the sidebar (id, label, icon/type identifier)
2. Define a `CanvasNodeData` interface extending React Flow's node data for custom node rendering (label, type, description)
3. Define a `NodeType` enum or union type for the generic placeholder component types available in the palette
4. Define named constants: default viewport position/zoom, grid spacing, min/max zoom levels, palette item definitions
5. All types must be exported from a central location (`@/types/canvas.ts` or similar)
6. All constants must be exported from a central location (`@/constants/canvas.ts` or similar)

## Implementation Plan

1. Create `frontend/src/types/canvas.ts` with all interface/type definitions
2. Create `frontend/src/constants/canvas.ts` with all named constants
3. Ensure types align with React Flow's `Node<T>` and `Edge` generic types from `@xyflow/react`
4. Export everything cleanly for consumption by store and components

**Dependencies**: Task 2-1 (packages must be installed for React Flow type imports)

## Test Plan

- TypeScript compilation passes without errors (`tsc --noEmit`)
- All types and constants are importable from their defined paths

## Verification

- Added shared canvas types in `frontend/src/types/canvas.ts`:
  - `NodeType` union
  - `PaletteItem` interface
  - `CanvasNodeData` interface
  - `CanvasNode`, `CanvasEdge`, and `CanvasViewport` aliases
- Added named canvas constants in `frontend/src/constants/canvas.ts`:
  - viewport defaults, zoom bounds, grid spacing/stroke width
  - drag-and-drop data key
  - `PALETTE_ITEMS` definitions
- Ran `pnpm test` (`tsc --noEmit`) in `frontend/`; type check passed.
- Internal AI review verdict: `pass`.

## Files Modified

- `frontend/src/types/canvas.ts`
- `frontend/src/constants/canvas.ts`
- `docs/delivery/2/2-2.md`
- `docs/delivery/2/tasks.md`
